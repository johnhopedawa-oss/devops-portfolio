<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>John Hope Dawa - Resume</title>
    <link rel="stylesheet" href="styles.css?v=8">
    <link rel="icon" type="image/svg+xml" href="assets/images/jd-logo.svg" />
</head>
<body>
    <div style="max-width: 800px; margin: 0 auto; padding: 20px 20px 0;">
        <a href="index.html" class="back-link">‚Üê Back to Home</a>
    </div>
    <div id="resume" class="resume-container">
        <p>Loading...</p>
    </div>

    <script>
        // Fetch resume data from API
        fetch('/api/resume')
            .then(response => response.json())
            .then(data => {
                displayResume(data);
            })
            .catch(error => {
                console.error('Error fetching resume:', error);
                document.getElementById('resume').innerHTML = '<p>Error loading resume data</p>';
            });

        function displayResume(data) {
            const resumeDiv = document.getElementById('resume');

            let html = `
                <h1>${data.name}</h1>
                <p><strong>${data.title}</strong> | ${data.location}</p>
                <p>${data.summary}</p>

                <h2>Skills</h2>
                <p>${data.skills.join(', ')}</p>

                <h2>Experience</h2>
            `;

            data.experience.forEach(job => {
                html += `
                    <div class="job">
                        <h3>${job.role} - ${job.company}</h3>
                        <p class="duration">${job.duration} | ${job.location}</p>
                        <ul>
                            ${job.responsibilities.map(resp => `<li>${resp}</li>`).join('')}
                        </ul>
                    </div>
                `;
            });

            html += `
                <h2>Interests</h2>
                <p>${data.interests.join(', ')}</p>
            `;

            resumeDiv.innerHTML = html;
        }
    </script>
</body>
</html>
